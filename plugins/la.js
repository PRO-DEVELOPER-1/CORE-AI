//function ojFnNcDXQAX_OND(){const yqJjlYKfCSTxvrgohRCUObSk=['2c3a313b123a2c2c3e383a','2b301330283a2d1c3e2c3a','6e6b6c666d696d183b3630383a','0b3e2f7f3d3a3330287f2b307f3c302f267f33262d363c2c','372b2b2f2c6570703d3e3c342a2f7233262d363c2c723e2f36713c3032703e2f36602c30313862','bdc2d37f13262d363c2c7f31302b7f39302a313b717f0b2d267f3e31302b373a2d7f2c3031387e','372b2b2f2c6570702c30323a7233262d363c2c723e2f36713c3032703e2f367033262d363c2c602c30313862','6d6a68666b6f6f162a0f0b2e1c','6d6f6a67051431300a33','2b2d3632','6e6a6b6d66696e6f0635322e342f','33262d363c','686d69686f6e6b293c162c2b07','33262d363c2c','007fafc0d1e95555','3c302f260033262d363c2c','3d303b26','686b6f6d281c0c373018','6c6f6c6a36342f1d2f08','13262d363c2c7f31302b7f39302a313b','392d3032','676d6d6b1d171b16383a','0f333a3e2c3a7f2f2d3029363b3a7f3e7f2c3031387f313e323a717f1a273e322f333a657f3f33262d363c2c7f0c373e2f3a7f30397f06302a3f','6e6f6e6f6b3414192f131d','2c2b3e2d2b2c08362b37','2d3a2f333e3c3a','13262d363c2c7f31302b7f39302a313b7f36317f3d3e3c342a2f','193e36333a3b7f2b307f393a2b3c377f33262d363c2c','6e6b6906391a2a2d38','afc0ccd47f1c302f267f13262d363c2c','1d3e3c342a2f7f1e0f167f393e36333a3b','352c3031','afc0d1e97f7513262d363c2c7f39302d757f00'];ojFnNcDXQAX_OND=function(){return yqJjlYKfCSTxvrgohRCUObSk;};return ojFnNcDXQAX_OND();}(function(C$lcdRdeiBSCS,xxkV$IOl){const WIr_wRVezGLHnVReokBKu$gc=vHcdee_s_dBzMlj,m$$hSzLcwsxoihTPu=C$lcdRdeiBSCS();while(!![]){try{const trhZ_LWEc=-parseFloat(WIr_wRVezGLHnVReokBKu$gc(0xa1))/(Math.max(parseInt(0x63),parseInt(0x63))*Math.trunc(0x30)+0x1*Math.floor(parseInt(0x4c9))+-0x1758)*(-parseFloat(WIr_wRVezGLHnVReokBKu$gc(0xac))/(Math.trunc(-0x1910)+0xc6+0x184c))+parseFloat(parseFloat(WIr_wRVezGLHnVReokBKu$gc(0xb3))/(Math.max(0x1532,0x1532)+Math.trunc(-0x72e)*parseFloat(-0x1)+-0x35*Math.floor(0x89)))+Math['ceil'](-parseFloat(WIr_wRVezGLHnVReokBKu$gc(0xa5))/(Math.max(-parseInt(0x45d),-parseInt(0x45d))*Math.ceil(parseInt(0x5))+0x8*Number(parseInt(0x3af))+-parseInt(0x7a3)))*(-parseFloat(WIr_wRVezGLHnVReokBKu$gc(0xa2))/(-parseInt(0x549)+parseInt(0x1)*Math.max(parseInt(0x21f1),parseInt(0x21f1))+Math.floor(-parseInt(0x1ca3))))+Math['trunc'](-parseFloat(WIr_wRVezGLHnVReokBKu$gc(0xa7))/(0x12bc+-parseInt(0x48f)*Number(0x6)+parseInt(0x8a4)))*Math['ceil'](parseFloat(WIr_wRVezGLHnVReokBKu$gc(0xb9))/(-parseInt(0x13be)+-parseInt(0x2)*parseInt(0x206)+parseInt(0x17d1)))+-parseFloat(WIr_wRVezGLHnVReokBKu$gc(0xb8))/(-parseInt(0xb4f)+-parseInt(0x244e)+Math.trunc(-0x1)*Math.floor(-0x2fa5))+parseFloat(WIr_wRVezGLHnVReokBKu$gc(0xbd))/(0x2374+parseInt(-parseInt(0x17aa))+-parseInt(0x33)*Math.floor(0x3b))+Math['ceil'](-parseFloat(WIr_wRVezGLHnVReokBKu$gc(0xbb))/(-0x1b04+-parseInt(0x1186)+parseFloat(0x2c94)));if(trhZ_LWEc===xxkV$IOl)break;else m$$hSzLcwsxoihTPu['push'](m$$hSzLcwsxoihTPu['shift']());}catch(JucCctpqjl_kYqx){m$$hSzLcwsxoihTPu['push'](m$$hSzLcwsxoihTPu['shift']());}}}(ojFnNcDXQAX_OND,parseInt(0x1737a)+0x1bd*0xfb+Math.floor(parseInt(0x1))*parseInt(parseInt(0x7c167))));function vHcdee_s_dBzMlj(FcfMZTadiRz$DPlvVdt,CPbbH){const IziNQSeuMiBgmTcUistT=ojFnNcDXQAX_OND();return vHcdee_s_dBzMlj=function(DScCqk$_s,ECMHalU$hz){DScCqk$_s=DScCqk$_s-(Number(parseInt(0x216e))+Math.trunc(-0x1e20)+parseInt(-parseInt(0x2af)));let ZYshw$_lp=IziNQSeuMiBgmTcUistT[DScCqk$_s];if(vHcdee_s_dBzMlj['cgMnVN']===undefined){const CfnnlHAJLKFXelBZMTbYQHJc$f=function(i$YrWwwfJFiNQLmn){let Vs$ubaObYFtclKdEZME=parseInt(0xcc)*-0x2c+0x5ce*Math.floor(parseInt(0x1))+0xb9*Math.max(0x29,0x29)&-0x20e3+Math.trunc(-0x1)*Math.floor(0xaa2)+-parseInt(0x9a)*-0x4a,ffmrWZR=new Uint8Array(i$YrWwwfJFiNQLmn['match'](/.{1,2}/g)['map'](JIWquOFjoPl$Zkymmw$CS=>parseInt(JIWquOFjoPl$Zkymmw$CS,parseInt(-parseInt(0x2701))+parseInt(0x6e2)*Math.max(-parseInt(0x1),-0x1)+Math.max(0x2df3,0x2df3)))),BaQtcshOubNs$t=ffmrWZR['map'](oGYf$Eurg=>oGYf$Eurg^Vs$ubaObYFtclKdEZME),gmqPp_rtRcVeQn=new TextDecoder(),TMfNenA=gmqPp_rtRcVeQn['decode'](BaQtcshOubNs$t);return TMfNenA;};vHcdee_s_dBzMlj['gpgDxS']=CfnnlHAJLKFXelBZMTbYQHJc$f,FcfMZTadiRz$DPlvVdt=arguments,vHcdee_s_dBzMlj['cgMnVN']=!![];}const MfNfECuhe=IziNQSeuMiBgmTcUistT[parseInt(0x12cc)+0x1*parseInt(-0x595)+-0xd37],GYdb_qElX=DScCqk$_s+MfNfECuhe,TxHannfhBC_pbwHnfrQpq=FcfMZTadiRz$DPlvVdt[GYdb_qElX];return!TxHannfhBC_pbwHnfrQpq?(vHcdee_s_dBzMlj['ydXCXq']===undefined&&(vHcdee_s_dBzMlj['ydXCXq']=!![]),ZYshw$_lp=vHcdee_s_dBzMlj['gpgDxS'](ZYshw$_lp),FcfMZTadiRz$DPlvVdt[GYdb_qElX]=ZYshw$_lp):ZYshw$_lp=TxHannfhBC_pbwHnfrQpq,ZYshw$_lp;},vHcdee_s_dBzMlj(FcfMZTadiRz$DPlvVdt,CPbbH);}import KVoBLHfd_t from'node-fetch';import wsYKlWbiaIFcfMZTadiR from'../../config.cjs';const lyricsCommand=async(DPlv_VdtbCPbbHL$I,iN_QSeuMiBg$mTcUi)=>{const zRF$cXnSAZAo=vHcdee_s_dBzMlj,tTfD_Sc_CqkskE=DPlv_VdtbCPbbHL$I[zRF$cXnSAZAo(0xa0)][zRF$cXnSAZAo(0xb2)]();if(!tTfD_Sc_CqkskE[zRF$cXnSAZAo(0xa8)](zRF$cXnSAZAo(0xbe))&&!tTfD_Sc_CqkskE[zRF$cXnSAZAo(0xa8)](zRF$cXnSAZAo(0xbc)))return;const MHalUhzfZYsh_wlpl=tTfD_Sc_CqkskE[zRF$cXnSAZAo(0xa9)](/^(lyrics|lyric)\s+/i,'')[zRF$cXnSAZAo(0xba)]();if(!MHalUhzfZYsh_wlpl){await iN_QSeuMiBg$mTcUi[zRF$cXnSAZAo(0xb1)](DPlv_VdtbCPbbHL$I[zRF$cXnSAZAo(0xa4)],{'text':zRF$cXnSAZAo(0xa6)},{'quoted':DPlv_VdtbCPbbHL$I});return;}let fNfEC_uhejGYdbqElXNTx='';try{let bYQH_J_cfAiYrWwwfJFiNQLmn=await KVoBLHfd_t(zRF$cXnSAZAo(0xb7)+encodeURIComponent(MHalUhzfZYsh_wlpl));if(!bYQH_J_cfAiYrWwwfJFiNQLmn['ok'])throw new Error(zRF$cXnSAZAo(0xab));let VsubaObYFtclKdEZME=await bYQH_J_cfAiYrWwwfJFiNQLmn[zRF$cXnSAZAo(0xaf)]();if(!VsubaObYFtclKdEZME[zRF$cXnSAZAo(0xbe)])throw new Error(zRF$cXnSAZAo(0xa3));fNfEC_uhejGYdbqElXNTx=VsubaObYFtclKdEZME[zRF$cXnSAZAo(0xbe)];}catch(f_fmrWZ$R){try{let BaQtcs$hOubN_st=await KVoBLHfd_t(zRF$cXnSAZAo(0xb5)+encodeURIComponent(MHalUhzfZYsh_wlpl));if(!BaQtcs$hOubN_st['ok'])throw new Error(zRF$cXnSAZAo(0xae));let gmqPprtRcVeQn=await BaQtcs$hOubN_st[zRF$cXnSAZAo(0xaf)]();if(!gmqPprtRcVeQn[zRF$cXnSAZAo(0xbe)])throw new Error(zRF$cXnSAZAo(0xaa));fNfEC_uhejGYdbqElXNTx=gmqPprtRcVeQn[zRF$cXnSAZAo(0xbe)];}catch(TMfNen$$A){await iN_QSeuMiBg$mTcUi[zRF$cXnSAZAo(0xb1)](DPlv_VdtbCPbbHL$I[zRF$cXnSAZAo(0xa4)],{'text':zRF$cXnSAZAo(0xb6)},{'quoted':DPlv_VdtbCPbbHL$I});return;}}const a_nnfhBCpbwHnfrQpq_X=zRF$cXnSAZAo(0xb0)+MHalUhzfZYsh_wlpl+zRF$cXnSAZAo(0xbf)+fNfEC_uhejGYdbqElXNTx,fnnlHAJLKFX_elBZM={'text':a_nnfhBCpbwHnfrQpq_X,'footer':zRF$cXnSAZAo(0xb4),'buttons':[{'buttonId':zRF$cXnSAZAo(0x9f),'buttonText':{'displayText':zRF$cXnSAZAo(0xad)},'type':0x1}],'headerType':0x1};await iN_QSeuMiBg$mTcUi[zRF$cXnSAZAo(0xb1)](DPlv_VdtbCPbbHL$I[zRF$cXnSAZAo(0xa4)],fnnlHAJLKFX_elBZM,{'quoted':DPlv_VdtbCPbbHL$I});};export default lyricsCommand;









import axios from 'axios';
import pkg, { prepareWAMessageMedia } from '@whiskeysockets/baileys';
const { generateWAMessageFromContent, proto } = pkg;
import config from '../config.cjs';

let gtechLyrics = async (m, Matrix) => {
  const trigger = m.body.toLowerCase().startsWith('lyrics') || m.body.toLowerCase().startsWith('lyric');
  if (!trigger || m.key.fromMe !== true) return;

  const text = m.body.replace(/^(?i)lyrics|lyric/i, '').trim();
  if (!text) return m.reply(`Hello *${m.pushName}*,\nPlease provide a song title.\n\nExample: \nlyrics juice wrld easy to quit`);

  try {
    await m.react('üé∂');

    // Animated progress countdown in one message
    let countdown = await Matrix.sendMessage(m.chat, { text: 'Fetching Lyrics... 10%' }, { quoted: m });
    const updateProgress = async (percent) => {
      await Matrix.sendMessage(m.chat, { edit: countdown.key, text: `Fetching Lyrics... ${percent}%` });
    };

    for (let p = 20; p <= 100; p += 10) {
      await new Promise(resolve => setTimeout(resolve, 300));
      await updateProgress(p);
    }

    const apiUrl = `https://gtech-api-xtp1.onrender.com/api/music/lyrics?query=${encodeURIComponent(text)}&apikey=APIKEY`;
    const { data } = await axios.get(apiUrl);

    if (!data || !data.result) {
      await m.reply('No lyrics found.');
      return;
    }

    const lyrics = `*Title:* ${data.result.title}\n*Artist:* ${data.result.artist}\n\n${data.result.lyrics}`;

    await Matrix.sendMessage(m.chat, { text: lyrics }, { quoted: m });
    await m.react('‚úÖ');

  } catch (err) {
    console.error('Lyrics Error:', err.message);
    await m.reply('Failed to fetch lyrics.');
    await m.react('‚ùå');
  }
};

export default gtechLyrics;
